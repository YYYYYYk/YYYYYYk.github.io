# 架构师
## 认知篇
### 1. 什么是架构师
架构师是技术开发领域中的特殊岗位，也是特别重要的岗位。
架构师通常在软件设计到软件开发过程中，**负责完整的流程设计和规范设计，制定软件的开发路线，迭代路线**等内容。
负责软件开发过程中的**技术攻关**和**核心技术能力输出**，**团队的技术提升**等内容。
### 2. 须具备什么样的能力
很多人，尤其是大多数前端开发工程师会在漫长的开发道路上受行业约束，觉得架构师的任务就是
搭框架，做组件库，分配分配任务就可以了，以至于这部分人会把更多的精力放在具体的业务实现代
码的编写上，这个思想方式其实是错误的。
#### 一个合格的架构师应具备如下能力：
```
1. 完整应用程序功能和业务的设计能力。
2. 完整应用程序或软件系统的技术架构设计能力。
3. 团队业务开发所需插件系统的设计和开发能力。
4. 技术领域上的广阔的宏观视野。
5. 任意独立领域的专家级别经验。
6. 良好的编程基础和程序设计思想（精通任意一门编程语言）。
7. 组织调动能力，良好的亲和力，可以调动团队的协调性和积极性。
```
   
### 3. 什么是软件架构，开发人员需要什么样的架构
软件架构最简单的理解就是盖房子，比如生活中想要盖一栋大房子，需要从房子的设计图开始，进
入房屋的设计期，设计的过程中还要考虑每个环节需要的材料，物理承重计算等等问题。然后才会进
入选材料，实际打地基，根据不同结构请不同的人进行落地实施。后面还要对盖好的房屋进行验收和
实际售卖等等操作，还需要设计好房屋的修周期等等。

**软件架构**指的是从设计应用到构建应用的整个过程以及其包含的所有环节。对于前端开发岗位的技
术人员来说，很多人对架构设计的理解仅仅是片面的，比如开发vue项目或React项目时，使用路由
和状态管理系统，配合U框架，最后加入网络请求框架和一些优化手段。这个过程是架构的一个具体
体现之一并不代表前端的整个架构就是仅仅而已。应用架构包括的内容繁多流程复杂，比如实际开发
过程中，<u>脚手架的设计和实现</u>就包括了脚手架工具的内部架构从设计到落地到可伸缩概念，比如应用
开发中除技术组成外，还需要<u>设计业务分离和业务整合</u>，所以业务组成也是架构设计中的一部分。再
比如应用架构构建过程中，项目从<u>开发环境到发布上线的整体流程，测试步骤和持续集成方案</u>，这些
都是应用架构中必不可少的部分。

**不以实现为目的的架构都是耍流氓**，所以任何软件架构，软件开发和互联网行业中的目的都是落地
和实现。所以有如下总结：
```
1. 一个无法上线的应用架构，算不上好的软件架构。
2. 一个没有人能完成开发的软件架构，算不上具有可行性的软件架构。
3. 一个在现有技术上不可行的架构，算不上合理的软件架构。
```
所以一旦我们谈及软件架构，需要讨论的第一个重点就是因地制宜。比如在一线互联网公司的软件
架构，都属于行业内的顶级架构设计方案，但是该架构在中小型企业并不是适合的架构，结合以上三
点考虑的话，一线顶级架构在中小型企业就很容易成为2和3点所覆盖的内容。若使用优秀的软件架
构，必须结合优秀的软件开发人才，若公司体量和技术能力有限，则选择眼下最合适公司情况的架构
才是最好的选择。

## 编程实践篇
### 1. 思想在前，不要上来就写
在做具体的程序设计课程前，还要讲大家的思维调整同步，在作为公司的顶梁柱级别的开发人员
时，每个人写的任何代码都是责任重大的，所以在实际开发时，没有任何一个合格的架构师是上来就
开始写代码的，并且**一个合格的架构师绝不会被编程语言限制**，所以我们在真正的实践编程前，一定
要按照如下顺序做思考：
```
1. 我们要做什么
2. 我们做这个事情的目的是什么
3. 完成这个目的需要的技术栈和编程语言的可能性有哪些,而不是固定某些技术栈
4. 我对这些技术栈和编程语言是否有过使用经验
5. 我们需要的技术栈和编程语言对我们要达到的目的起到多少帮助（即我们需要的技术栈实际有百分之多少是我们需要用的）
6．是否需要对技术栈和编程语言做一个详细的技术分析和demo测试
7．是否有其他功能是现有成熟技术栈无法提供的能力，我们应该如何设计这部分能力的技术输出
8．开发团队的综合技能水平和人员分布是什么样的
9．如何将目前所需要的软件架构更好的过渡到我自己的团队
10．任务分配的设计方案，软件的开发流程，测试流程，上线流程，文档规则等定义
11．软件架构、业务架构、部署架构等架构图的规划和绘制
12．业务流程的梳理、基础架构的建设
13. 其他后续流程
```
也就是说，没有任何的成功是偶然的，没有任何大型操作系统或应用是几个人写写代码就成功问世
的，任何合格的架构师在实际写代码前要做的事情是非常多的，如果把这些事情忽略或完全摸不到头
脑的话是无法成为一个合格架构师的，其设计的应用程序在未来也会出现技术瓶颈或无法摆脱的持续
bug困扰。
### 2.操练起来
对于任何级别的技术人员来说，基础开发都是重中之重，很多年限不高的前端工程师就开始鄙视HTML/CSS/avaScript这三门掌握前端命运的语言，而把精力完全投入到应用层的各种框架中，比如React、 vue、Angular、Svelte等优秀的前端框架生态。***这种思维方式其实是错误的，作为应用级开发工程师，掌握前端框架可以大大的提升项目开发的效率，并提升项目迭代时的维护性，但这种思维并不适合前端工程师向上提升自身技术能力，*** 很多前端工程师在一定年限的成长后，会发现境界停滞无法突破，也正是这个思维所限制的。


***若想在前端领域更精进一步，反而是应该将框架放下，回头去看HTML/CSSJavascript，回头去复习编程基础，培养优秀的编程思想***。有的同学到这里一定会觉得，HTML、CSS、Javascript有什么可看的，一共就那么点东西，做做网页而已。但是冷静下来思考一下，诸如React、vue或优秀如Webpack等优秀的javascript框架，都是通过这些基本的编程语言基础配合avaScript的一些系统级API，通过作者的设计思想而开发出来的框架。也就是说，你在使用这些优秀的框架时，是否只是单纯的在学习官方文档介绍的API用法，并没有去感受作者的设计思路以及实现方式呢？这个过程是值得大部分前端开发领域的工程师反思的，***若你还不能通过框架的使用看到框架的本质和实现原理，那么你的编程基础还有待提高***。

任何一门编程语言开发的框架和应用都会有过时和淘汰的一天，甚至是编程语言也存在淘汰的一天，为什么行业第一梯队的人不会有框架使用的焦虑症，和编程语言使用的焦虑症，这是因为编程语言和框架可能每个时间段都在改变，**但是数据结构、算法、设计模式和编程思想永远都不会改变，所以一个优秀的工程师，在基础方面是非常扎实的**。

接下来让我们带着温故而知新的心态重新回顾一下网页制作的三代语言。
#### 2.1 亘古不变的HTML
综上所述，我们接下来的任务是回顾HTML这门设计型语言。不要傻傻的以为我要从标签结构，标签组成，属性规则等内容开始介绍。今天我们的学习目的是HTML中比较具备特点，还容易被人忽略的部分。
#### 2.1.1 CSR和SSR
**SSR(Server Side Rendering):** 服务端渲染，传统的渲染方式，由服务端把渲染的完整的页面吐给客户端。这样*减少了
一次客户端到服务端的一次http请求，加快相应速度，一般用于首屏的性能优化*。(网页右击源代码可看到完整HTML代码，包括js的引入)

**CSR(Client Side Rendering):** 客户端渲染，是一种目前流行的渲染方式，它依赖的是运行在客户端的JS，用户首次发送请求只能得到小部分的指引性HTML代码。第二次请求将会请求更多包含HTML字符串的S文件???。（不利于seo）

> 简而言之，就是**数据拼接HTML字符串**这件事放在服务端还是客户端造成了两者区别。
>>服务器端渲染的优势在于<u>首屏渲染速度块（渲染和数据传输层面相互独立）</u>，简单来讲它不需要来回多次往返于客户端和服务端。但是其性能等众多因素会影响用户体验，比如说：网速，在线活跃人数，服务器的物理位置等等。
>>
>>而客户端渲染则和服务端渲染相反，因为多次和服务器的交互导致首屏加载速度慢。但一旦这些请求完成之后，用户和页面之问的交互时用户体验就会好很多。

SSR优势：渲染速度快，请求时间长。（首屏加载快）
CSR优势：渲染时间长，请求数据快。


![](https://s1.ax1x.com/2022/11/06/xjlBgU.jpg)
|      | 优势  | 劣势  |
| ---- | ---- | ----- |
| SSR  | 1. 返回的数据在源代码中可以查看，对**SEO**工具更加友好。<br/>2. 在数据返回给浏览器后可以更快的**渲染**视图内容，而无需等待javascript的渲染流程。<br/>3. 非常适合不频繁变动的**门户网站**等搭建。 | 1. 每次提交数据都需要重新像服务器发送请求，触发页面更新<br/>2. 虽然渲染页面快，但加载渲染代码需要等待服务端模版计算，这个时间在**高并发场景**并不会快。<br/>3.不适合做数据频繁变化和存在高频交互的场景。 |
| CSR  | 1. 适合强交互型Web应用的搭建。<br/>2.一旦资源加载完毕后便不需要触发视图更新便可以实现加载视图(代码都在本地)。<br/>3. 减小了服务器计算视图模版的工作为服务器降低了单次访问的工作量 | 1. 纯客户端渲染导致源代码中没有任何数据，不利于SEO。<br/>2. 初始存在白屏时间，需要大量的优化方案。<br/>3. 在设计不完备的情况下会产生单页面并发请求量过多而对服务器产生压力。 |
#### 2.1.2 script中的type="text/html"
在组件化开发的框架盛行前，便有了一些成型的组件化开发解决方案，其中最具特色的就是script中的type="text/html"’。这个写法最典型的体现在layui框架中（虽然作者己经宣布放弃框架，但放弃的原因并非框架自身存在问题，而是其相对于前后分离的时代确实该休息一下了）。layui框架中大量的使用了**script标签作为html模版来实现视图渲染**，这种好处是可以将所需的模版代码部分单独的放在script标签中维护，这样可以更好的实现纯HTML页面中的组件拆分方案.()
#### 2.1.3 script中的type="module"。
HTML 网页中，浏览器通过 script 标签加载 JavaScript 脚本。由于浏览器脚本的默认语言是 JavaScript，因此type="application/javascript"可以省略。
在报错中了解到，是说无法在模块外部使用import语句，因为Module 的加载实现的是es6语法，所以在浏览器加载html文件时，需要在script 标签中加入type="module"属性